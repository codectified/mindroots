// Load the CSV file
LOAD CSV WITH HEADERS FROM 'file:///99names.csv' AS row

// Create master nodes
MERGE (rootsMaster:Master {name: "Roots"})
MERGE (typesMaster:Master {name: "Types"})

// Create root nodes with translations and connect to the master node
MERGE (root:Root {arabic: row.`الجذر`, english: row.transliterated_root})
MERGE (rootsMaster)-[:HAS_ROOT]->(root)

// Create word type nodes with translations and connect to the master node
MERGE (infinitive:WordType {arabic: "المصدر", english: "infinitive"})
MERGE (typesMaster)-[:HAS_TYPE]->(infinitive)

MERGE (active_participle:WordType {arabic: "اسم الفاعل", english: "active participle"})
MERGE (typesMaster)-[:HAS_TYPE]->(active_participle)

MERGE (passive_participle:WordType {arabic: "اسم المفعول", english: "passive participle"})
MERGE (typesMaster)-[:HAS_TYPE]->(passive_participle)

MERGE (noun_of_place:WordType {arabic: "اسم المكان", english: "noun of place"})
MERGE (typesMaster)-[:HAS_TYPE]->(noun_of_place)

MERGE (singular:WordType {arabic: "اسم المرة", english: "singular"})
MERGE (typesMaster)-[:HAS_TYPE]->(singular)

MERGE (noun_of_state:WordType {arabic: "اسم الحال", english: "noun of state"})
MERGE (typesMaster)-[:HAS_TYPE]->(noun_of_state)

MERGE (noun_of_instrumentation:WordType {arabic: "اسم الآلة", english: "noun of instrumentation"})
MERGE (typesMaster)-[:HAS_TYPE]->(noun_of_instrumentation)

MERGE (noun_of_essence:WordType {arabic: "اسم ذات", english: "noun of essence"})
MERGE (typesMaster)-[:HAS_TYPE]->(noun_of_essence)

MERGE (noun_of_hyperbole:WordType {arabic: "اسم التفعيل", english: "noun of hyperbole"})
MERGE (typesMaster)-[:HAS_TYPE]->(noun_of_hyperbole)

// Create word nodes with translations and establish specific relationships

// Infinitive words
FOREACH(ignoreMe IN CASE WHEN row.`المصدر` IS NOT NULL AND row.`المصدر` <> '' THEN [1] ELSE [] END |
    MERGE (word:Word {arabic: row.`المصدر`, english: row.infinitive})
    MERGE (root)-[:ROOT_HAS_INFINITIVE]->(word)
    MERGE (infinitive)-[:TYPE_HAS_WORD]->(word)
)

// Active participle words
FOREACH(ignoreMe IN CASE WHEN row.`اسم_الفاعل` IS NOT NULL AND row.`اسم_الفاعل` <> '' THEN [1] ELSE [] END |
    MERGE (word:Word {arabic: row.`اسم_الفاعل`, english: row.active_participle})
    MERGE (root)-[:ROOT_HAS_ACTIVE_PARTICIPLE]->(word)
    MERGE (active_participle)-[:TYPE_HAS_WORD]->(word)
)

// Passive participle words
FOREACH(ignoreMe IN CASE WHEN row.`اسم_المفعول` IS NOT NULL AND row.`اسم_المفعول` <> '' THEN [1] ELSE [] END |
    MERGE (word:Word {arabic: row.`اسم_المفعول`, english: row.passive_participle})
    MERGE (root)-[:ROOT_HAS_PASSIVE_PARTICIPLE]->(word)
    MERGE (passive_participle)-[:TYPE_HAS_WORD]->(word)
)

// Noun of place words
FOREACH(ignoreMe IN CASE WHEN row.`اسم_المكان` IS NOT NULL AND row.`اسم_المكان` <> '' THEN [1] ELSE [] END |
    MERGE (word:Word {arabic: row.`اسم_المكان`, english: row.noun_of_place})
    MERGE (root)-[:ROOT_HAS_NOUN_OF_PLACE]->(word)
    MERGE (noun_of_place)-[:TYPE_HAS_WORD]->(word)
)

// Singular words
FOREACH(ignoreMe IN CASE WHEN row.`اسم_المرة` IS NOT NULL AND row.`اسم_المرة` <> '' THEN [1] ELSE [] END |
    MERGE (word:Word {arabic: row.`اسم_المرة`, english: row.singular})
    MERGE (root)-[:ROOT_HAS_SINGULAR]->(word)
    MERGE (singular)-[:TYPE_HAS_WORD]->(word)
)

// Noun of state words
FOREACH(ignoreMe IN CASE WHEN row.`اسم_الحال` IS NOT NULL AND row.`اسم_الحال` <> '' THEN [1] ELSE [] END |
    MERGE (word:Word {arabic: row.`اسم_الحال`, english: row.noun_of_state})
    MERGE (root)-[:ROOT_HAS_NOUN_OF_STATE]->(word)
    MERGE (noun_of_state)-[:TYPE_HAS_WORD]->(word)
)

// Noun of instrumentation words
FOREACH(ignoreMe IN CASE WHEN row.`اسم_الآلة` IS NOT NULL AND row.`اسم_الآلة` <> '' THEN [1] ELSE [] END |
    MERGE (word:Word {arabic: row.`اسم_الآلة`, english: row.noun_of_instrumentation})
    MERGE (root)-[:ROOT_HAS_NOUN_OF_INSTRUMENTATION]->(word)
    MERGE (noun_of_instrumentation)-[:TYPE_HAS_WORD]->(word)
)

// Noun of essence words
FOREACH(ignoreMe IN CASE WHEN row.`اسم_ذات` IS NOT NULL AND row.`اسم_ذات` <> '' THEN [1] ELSE [] END |
    MERGE (word:Word {arabic: row.`اسم_ذات`, english: row.noun_of_essence})
    MERGE (root)-[:ROOT_HAS_NOUN_OF_ESSENCE]->(word)
    MERGE (noun_of_essence)-[:TYPE_HAS_WORD]->(word)
)

// Noun of hyperbole words
FOREACH(ignoreMe IN CASE WHEN row.`اسم_التفعيل` IS NOT NULL AND row.`اسم_التفعيل` <> '' THEN [1] ELSE [] END |
    MERGE (word:Word {arabic: row.`اسم_التفعيل`, english: row.noun_of_hyperbole})
    MERGE (root)-[:ROOT_HAS_NOUN_OF_HYPERBOLE]->(word)
    MERGE (noun_of_hyperbole)-[:TYPE_HAS_WORD]->(word)
)
